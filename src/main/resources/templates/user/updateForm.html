<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<!-- 공통 헤더 사용 -->
<head th:replace="~{fragments :: head('회원정보 수정')}"></head>

<body>
<!-- 공통 상단 내비게이션 바 사용 -->
<nav th:replace="~{fragments :: navbar}"></nav>

<!-- 공통 서브 내비게이션 바 사용 -->
<div th:replace="~{fragments :: subnav}"></div>

<div class="container" id="main">
    <div class="col-md-6 col-md-offset-3">
        <div class="panel panel-default content-main">
            <!-- 성공 메시지 표시 -->
            <div th:if="${message}" class="alert alert-success" role="alert" th:text="${message}">
                회원정보가 성공적으로 수정되었습니다.
            </div>

            <!-- 에러 메시지 표시 -->
            <div th:if="${errorMessage}" class="alert alert-danger" role="alert" th:text="${errorMessage}">
                오류 메시지
            </div>

            <form name="question" method="post" th:action="@{/users/{seq}(seq=${user.seq})}">
                <!-- PUT 메소드 지정을 위한 hidden input -->
                <input type="hidden" name="_method" value="PUT" />

                <div class="form-group">
                    <label for="userId">사용자 아이디</label>
                    <input class="form-control" id="userId" name="userId" th:value="${user.userId}" readonly>
                    <small class="text-muted">사용자 아이디는 수정할 수 없습니다.</small>
                </div>
                <div class="form-group">
                    <label for="password">새 비밀번호</label>
                    <input type="password" class="form-control" id="password" name="password" placeholder="새 비밀번호">
                    <small class="text-muted">비밀번호를 변경하지 않으려면 빈칸으로 두세요.</small>
                </div>
                <div class="form-group">
                    <label for="name">이름</label>
                    <input class="form-control" id="name" name="name" placeholder="Name" th:value="${user.name}">
                </div>
                <div class="form-group">
                    <label for="email">이메일</label>
                    <input type="email" class="form-control" id="email" name="email" placeholder="Email" th:value="${user.email}">
                </div>
                <button type="submit" class="btn btn-success clearfix pull-right">정보수정</button>
                <a th:href="@{/users}" class="btn btn-default clearfix pull-left">취소</a>
                <div class="clearfix" />
            </form>
        </div>
    </div>
</div>

<!-- 공통 스크립트 사용 -->
<div th:replace="~{fragments :: scripts}"></div>
</body>
</html>
